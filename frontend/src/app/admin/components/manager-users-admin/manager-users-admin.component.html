<div class="user-management">
  <h2>Quản lý Người Dùng</h2>
  
 

  <!-- Form thêm/chỉnh sửa người dùng -->
  <form class="user-form" (ngSubmit)="addUser()">
    <div class="form-group">
      <label for="userName">Tên người dùng</label>
      <input id="userName" type="text" [(ngModel)]="newUser.name" name="name" required />
    </div>

    <div class="form-group">
      <label for="userRole">Vai trò</label>
      <select id="userRole" [(ngModel)]="newUser.role" name="role" required>
        <option value="sinhvien">Sinh viên</option>
        <option value="giangvien">Giảng viên</option>
      </select>
    </div>

    <div class="form-group">
      <label for="userEmail">Email</label>
      <input id="userEmail" type="email" [(ngModel)]="newUser.email" name="email" required />
    </div>

    <button type="submit" class="btn-save">{{ isEditing ? 'Cập Nhật Người Dùng' : 'Thêm Người Dùng' }}</button>
    <button type="button" class="btn-reset" (click)="resetForm()">Đặt Lại</button>
  </form>

  <!-- Danh sách người dùng -->
  <h3>Danh sách Người Dùng</h3>
   <!-- Bộ lọc và tìm kiếm -->
   <div class="filter-search">
    <div class="form-group">
      <label for="searchName">Tìm kiếm theo tên</label>
      <input id="searchName" type="text" [(ngModel)]="searchName" placeholder="Nhập tên người dùng..." />
    </div>

    <div class="form-group">
      <label for="searchEmail">Tìm kiếm theo email</label>
      <input id="searchEmail" type="text" [(ngModel)]="searchEmail" placeholder="Nhập email..." />
    </div>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>Tên Người Dùng</th>
        <th>
          <div class="dropdown d-inline">
            <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
              {{ filterRole ? (filterRole === 'sinhvien' ? 'SINH VIÊN' : 'GIẢNG VIÊN') : 'VAI TRÒ' }}
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <li>
                <a class="dropdown-item" (click)="selectRole('')">Tất cả</a>
              </li>
              <li>
                <a class="dropdown-item" (click)="selectRole('sinhvien')">Sinh viên</a>
              </li>
              <li>
                <a class="dropdown-item" (click)="selectRole('giangvien')">Giảng viên</a>
              </li>
            </ul>
          </div>
        </th>
        <th>Email</th>
        <th>Thao tác</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of filteredUsers">
        <td>{{ user.name }}</td>
        <td>{{ user.role === 'sinhvien' ? 'Sinh viên' : 'Giảng viên' }}</td>
        <td>{{ user.email }}</td>
        <td>
          <button (click)="editUser(user)" type="button" class="btn btn-link btn-primary btn-lg" title="Chỉnh Sửa">
            <i class="fa fa-edit"></i>
          </button>
          <button (click)="deleteUser(user.id)" type="button" class="btn btn-link btn-danger" title="Xóa">
            <i class="fa fa-times"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
