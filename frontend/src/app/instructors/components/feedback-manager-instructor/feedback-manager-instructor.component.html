<div class="feedback-container">
  
  <app-sentiment-analystis-admin/>
  
    <h2>Danh Sách Phản Hồi</h2>
    <div class="filter-container">
      <input
        type="text"
        placeholder="Tên sinh viên"
        [(ngModel)]="studentNameFilter"
        class="filter-input"
      />
      <input
        type="date"
        [(ngModel)]="dateFilter"
        class="filter-input"
      />
      <input
        type="text"
        placeholder="Tên khóa học"
        [(ngModel)]="courseNameFilter"
        class="filter-input"
      />
      <button (click)="applyFilters()">Lọc</button>
    </div>
    <!-- Bảng dữ liệu phản hồi -->
    <table class="feedback-table">
      <thead>
        <tr>
          <th>Số thứ tự</th>
          <th>Khóa học</th>
          <th>Sinh viên</th>
          <th>Thời gian phản hồi</th>
          <th>Cảm xúc</th>
          <th>Đánh giá</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of (isFiltering ? filteredFeedback : feedback).slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage) ;let i = index">
          <td>{{ i + 1 }}</td> 

          <td>{{ item.course.name }}</td>
          <td>{{ item.reviewStudent.fullname }}</td>
          <td>{{ item.updatedAt | date: 'dd/MM/yyyy' }}</td>
          <td class="clickable" (click)="showSentimentDetails(item.sentimentAnalysis)">
            {{ item.sentimentAnalysis.sentimentLabel }}
          </td>
          <td>{{ item.comment }}</td>
        </tr>
      </tbody>
    </table>
    <div class="pagination">
      <button 
        (click)="prevPage()" 
        [disabled]="currentPage === 1">
        Trước
      </button>
  
      <button 
        *ngFor="let page of getPages()" 
        (click)="goToPage(page)" 
        [class.active]="page === currentPage">
        {{ page }}
      </button>
  
      <button 
        (click)="nextPage()" 
        [disabled]="currentPage === totalPages">
        Tiếp
      </button>
    </div>
     
  </div>
  