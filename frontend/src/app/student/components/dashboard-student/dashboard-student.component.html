<div class="dashboard-container">
  <!-- Ph·∫ßn Th√¥ng tin ng∆∞·ªùi d√πng -->
  <div class="user-info">
    <div class="user-profile">
      <img
        [src]="studentLogin.avt"
        alt="User Profile"
        class="profile-picture"
        (click)="triggerFileInput()"
      />
      <input
        type="file"
        #fileInput
        (change)="onFileSelected($event)"
        style="display: none"
      />
      <h2>{{ studentLogin.fullname }}</h2>
    </div>
    <div class="user-details">
      <p><i class="fas fa-envelope"></i> {{ studentLogin.email }}</p>
      <p>
        <i class="fas fa-phone"></i> {{ studentLogin.phone || "0000000000" }}
      </p>
      <p><i class="fas fa-calendar"></i> 17/09/2020</p>
    </div>
    <div class="extra-sections">
      <button>Kinh Nghi·ªám +</button>
      <button>H·ªçc V·∫•n +</button>
      <button>M·∫°ng X√£ H·ªôi +</button>
    </div>
  </div>

  <!-- Ph·∫ßn N·ªôi dung H·ªçc t·∫≠p, Cu·ªôc thi, Luy·ªán t·∫≠p -->
  <div class="content">
    <!-- Ph·∫ßn H·ªçc T·∫≠p -->
    <!-- <div class="section study">
      <h3>H·ªçc T·∫≠p ({{ totalCourses }})</h3>
      <div class="courses">
        <div class="course" *ngFor="let course of currentCourses">
          <img
            [src]="course.imageUrl"
            [alt]="course.name"
            class="img-fluid course-image"
          />
          <h4>{{ course.name }}</h4>
        </div>
      </div>

      <button
        id="previousCourses"
        class="btn btn-primary mt-3"
        (click)="previousCourses()"
      >
        <i class="fas fa-arrow-left"></i>
      </button>
      <button
        id="nextCourses"
        class="btn btn-primary mt-3"
        (click)="nextCourses()"
      >
        <i class="fas fa-arrow-right"></i>
      </button>
    </div> -->

    <div class="section study">
      <h3>H·ªçc T·∫≠p ({{ totalCourses }})</h3>
      <div *ngIf="currentCourses.length === 0" class="no-courses">
        B·∫°n ch∆∞a ƒëƒÉng k√Ω kh√≥a h·ªçc n√†o
      </div>
      <div class="courses">
        <div class="course" *ngFor="let course of currentCourses">
          <a [routerLink]="['/student/courses', course.id]">
            <img
              [src]="course.imageUrl"
              [alt]="course.name"
              class="img-fluid course-image"
            />
          </a>
          <div class="course-content">
            <h4>{{ course.name }}</h4>
            <!-- Hi·ªÉn th·ªã m√¥ t·∫£ kh√≥a h·ªçc -->
            <div class="course-details">
              <div class="instructor">
                <!-- Hi·ªÉn th·ªã t√™n gi·∫£ng vi√™n -->
                <i class="fas fa-user-tie text-primary pe-1"></i>
                <span>{{ course.instructorName }}</span>
              </div>
              <div class="rating">
                <!-- Hi·ªÉn th·ªã sao ƒë√°nh gi√° -->
                <ng-container *ngFor="let star of getFullStars(course.rating)">
                  <i class="fas fa-star text-primary"></i>
                </ng-container>
                <ng-container *ngIf="getHalfStar(course.rating)">
                  <i class="fas fa-star-half-alt text-primary"></i>
                </ng-container>
                <ng-container *ngFor="let star of getEmptyStars(course.rating)">
                  <i class="far fa-star text-primary"></i>
                </ng-container>
              </div>
              <div class="students">
                <i class="fas fa-user"></i> {{ course.studentsCount }} Students
              </div>
            </div>
          </div>
        </div>
      </div>

      <button
        id="previousCourses"
        class="btn btn-primary mt-3"
        (click)="previousCourses()"
      >
        <i class="fas fa-arrow-left"></i>
      </button>
      <button
        *ngIf="currentCourses.length >= 3"
        id="nextCourses"
        class="btn btn-primary mt-3"
        (click)="nextCourses()"
      >
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>

    <!-- Ph·∫ßn Cu·ªôc Thi -->
    <div class="section exam" style="padding: 20px">
      <h3>Cu·ªôc Thi (0)</h3>
      <p>B·∫°n ch∆∞a tham gia cu·ªôc thi n√†o, ·∫•n v√†o ƒë√¢y ƒë·ªÉ tham gia ngay.</p>
    </div>
    <!-- Ph·∫ßn Luy·ªán T·∫≠p -->
    <div class="section practice">
      <h3>Luy·ªán T·∫≠p</h3>
      <div class="levels">
        <div class="level easy">
          <span class="level-icon">üü¢</span>
          <p class="level-label">D·ªÖ</p>
          <p class="level-score">0</p>
        </div>
        <div class="level medium">
          <span class="level-icon">üü†</span>
          <p class="level-label">Trung b√¨nh</p>
          <p class="level-score">0</p>
        </div>
        <div class="level hard">
          <span class="level-icon">üî¥</span>
          <p class="level-label">Kh√≥</p>
          <p class="level-score">0</p>
        </div>
      </div>
      <p class="no-exercises">
        B·∫°n ch∆∞a l√†m b√†i t·∫≠p n√†o, <a href="#">·∫•n v√†o ƒë√¢y</a> ƒë·ªÉ l√†m ngay.
      </p>
    </div>
    <div class="container my-4 mx-0 px-3">
      <div class="row d-flex justify-content-around">
        <!-- Ph·∫ßn Th·∫£o Lu·∫≠n -->
        <div class="col-md-12 px-0">
          <div class="card">
            <div class="card-header text-uppercase font-weight-bold">
              Th·∫£o Lu·∫≠n
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-12">
                  <div class="discussion-box">
                    <img
                      src="../../../../assets/student/img/comment.png"
                      alt="B√¨nh lu·∫≠n"
                      class="icon"
                    />
                    <p>B√¨nh lu·∫≠n</p>
                    <strong>{{ totalComment }}</strong>
                  </div>
                  <button
                    class="btn btn-primary d-flex ms-auto me-auto mt-3 showall-comment"
                    *ngIf="!isShowComment"
                    (click)="changeShowCommentStatus()"
                  >
                    Xem t·∫•t c·∫£
                  </button>
                  <button
                    class="btn btn-primary d-flex ms-auto me-auto mt-3 showall-comment"
                    *ngIf="isShowComment"
                    (click)="changeShowCommentStatus()"
                  >
                    R√∫t g·ªçn
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Ph·∫ßn B√¨nh lu·∫≠n -->
    <div class="col-12 mt-4" *ngIf="isShowComment">
      <div class="card shadow-sm comments-section">
        <div class="card-header text-uppercase font-weight-bold">B√¨nh lu·∫≠n</div>
        <div class="card-body">
          <!-- N·∫øu kh√¥ng c√≥ b√¨nh lu·∫≠n -->
          <div
            *ngIf="userComments.length === 0"
            class="no-comments text-center"
          >
            <p>B·∫°n ch∆∞a c√≥ b√¨nh lu·∫≠n n√†o.</p>
          </div>

          <!-- Danh s√°ch b√¨nh lu·∫≠n -->
          <div *ngIf="userComments.length > 0" class="comment-list">
            <div *ngFor="let comment of userComments" class="comment-item">
              <div class="comment-header">
                <h6 class="course-name">{{ comment.course.name }}</h6>
                <p class="rating">
                  <!-- Hi·ªÉn th·ªã ƒë√°nh gi√° -->
                  <ng-container
                    *ngFor="let star of getFullStars(comment.rating)"
                  >
                    <i class="fas fa-star text-warning"></i>
                  </ng-container>
                  <!--  -->
                  <ng-container
                    *ngFor="let star of getEmptyStars(comment.rating)"
                  >
                    <i class="far fa-star text-warning"></i>
                  </ng-container>
                </p>
                <div class="showSentimentAnalysis">
                  <button
                    class="btn btn-primary btn-sm"
                    (click)="showSentimentAnalysis(comment.course.id)"
                    title="Xem k·∫øt qu·∫£ ph√¢n t√≠ch c·∫£m x√∫c"
                  >
                    <i class="bi bi-eye"></i>
                  </button>
                </div>
              </div>
              <p class="comment-content">{{ comment.comment }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
